{% extends 'layout.html.twig' %}

{% block title %}
   Kysymyksi√§ ja vastauksia - Ohjelmistotuotanto
{% endblock %}

{% block content %}

    {% include 'post.html.twig' %}

    {% for key, post in posts|reverse %}
        <div class="row">
            <div class="two columns alpha text-center">
                <i class="icon-bullhorn icon-large"></i>
            </div>

            <div class="fourteen columns omega half-bottom">
                {{ post.value }}<br>
                <small class="left half-bottom">{{ post.timestamp }}</small>

                {% for reply in post.replies %}
                    <div class="row reply">
                        <div class="fourteen columns alpha omega">
                            {{ reply.value }}
                        </div>
                    </div>
                {% endfor %}

                <div class="row reply">
                    <div class="fourteen columns alpha omega">
                        {% include 'reply.html.twig' %}
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}

    {% if refresh is defined %}
        <script type="text/javascript">
            setTimeout(function() { location.reload(true); }, 20 * 1000);
        </script>
    {% endif %}

{% endblock %}
